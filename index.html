<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MaxingHub | Admin Dashboard</title>
  <style>
    :root { --primary: #2563eb; --secondary: #22c55e; --dark: #0f172a; --card: #020617; --text: #e5e7eb; }
    body { margin: 0; font-family: sans-serif; background: var(--dark); color: var(--text); line-height: 1.6; }
    header { background: linear-gradient(135deg, var(--primary), var(--secondary)); padding: 30px; text-align: center; }
    nav { margin-top: 15px; display: flex; justify-content: center; gap: 15px; }
    nav a, .login-btn { color: white; text-decoration: none; font-weight: bold; cursor: pointer; background: rgba(0,0,0,0.2); padding: 5px 15px; border-radius: 5px; border: none; }
    
    section { padding: 40px 20px; max-width: 1000px; margin: auto; }
    .card { background: var(--card); padding: 20px; border-radius: 12px; margin-bottom: 20px; border: 1px solid #1e293b; }
    
    /* Admin Panel Styling */
    #admin-panel { display: none; background: #1e293b; border: 2px solid var(--secondary); padding: 20px; border-radius: 15px; margin-top: 20px; }
    input, textarea { width: 100%; padding: 12px; margin: 10px 0; border-radius: 8px; border: 1px solid #334155; background: #0f172a; color: white; box-sizing: border-box; }
    .admin-btn { background: var(--secondary); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: bold; }
    
    .blog-img { width: 100%; max-height: 300px; object-fit: cover; border-radius: 8px; margin-bottom: 15px; }
    .price-tag { color: var(--secondary); font-weight: bold; font-size: 1.2rem; }

    /* Modal */
    #login-modal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #1e293b; padding: 30px; border-radius: 12px; z-index: 1000; width: 300px; box-shadow: 0 0 100px rgba(0,0,0,0.5); }
  </style>
</head>
<body>

<header>
  <h1>MaxingHub</h1>
  <nav>
    <a href="#blog-container">Read Blogs</a>
    <a href="#pdf-section">Buy PDFs</a>
    <button class="login-btn" onclick="openModal()">Admin Access</button>
  </nav>
</header>

<div id="login-modal">
  <h3>Enter Admin Keys</h3>
  <input type="email" id="adminEmail" placeholder="Email">
  <input type="password" id="adminPass" placeholder="Password">
  <button class="admin-btn" onclick="checkLogin()" style="width:100%">Login</button>
  <button onclick="openModal()" style="background:none; border:none; color:gray; cursor:pointer; margin-top:10px; width:100%">Cancel</button>
</div>

<section id="admin-panel">
  <h2>Create New Blog Post</h2>
  <input type="text" id="postTitle" placeholder="Blog Title">
  <input type="text" id="postImg" placeholder="Image URL (e.g. https://images.com/photo.jpg)">
  <textarea id="postContent" rows="5" placeholder="Write your blog content here..."></textarea>
  
  <h3 style="margin-top:20px">Upload PDF Details</h3>
  <input type="text" id="pdfName" placeholder="PDF Name">
  <p>Default Price: <strong>₹100</strong></p>
  
  <button class="admin-btn" onclick="publishBlog()">Publish to Website</button>
  <button onclick="logout()" style="background:red; color:white; border:none; padding:10px; border-radius:8px; margin-left:10px; cursor:pointer;">Logout</button>
</section>

<section id="blog-container">
  <h2>Recent Blogs</h2>
  <div id="blog-list">
    <div class="card">
      <p>No blogs published yet. Admin needs to post.</p>
    </div>
  </div>
</section>

<section id="pdf-section">
  <h2>Premium PDFs (₹100 Each)</h2>
  <div id="pdf-list" class="card">
    <p>Contact admin to purchase via UPI.</p>
    <h3>Complete Glow-Up Guide</h3>
    <p class="price-tag">Price: ₹100</p>
    <a href="https://wa.me/918091923582" class="admin-btn" style="text-decoration:none; display:inline-block">Buy via WhatsApp</a>
  </div>
</section>

<script>
  // 1. LOGIN SYSTEM
  function openModal() {
    const modal = document.getElementById('login-modal');
    modal.style.display = modal.style.display === 'block' ? 'none' : 'block';
  }

  function checkLogin() {
    const e = document.getElementById('adminEmail').value;
    const p = document.getElementById('adminPass').value;
    // Check credentials securely
    if(e === "kartik123zdax@gmail.com" && p === "admin123") {
      localStorage.setItem('loggedIn', 'true');
      showAdmin();
      document.getElementById('login-modal').style.display = 'none';
    } else {
      alert("Wrong Access Keys");
    }
  }

  function showAdmin() {
    if(localStorage.getItem('loggedIn') === 'true') {
      document.getElementById('admin-panel').style.display = 'block';
    }
  }

  function logout() {
    localStorage.removeItem('loggedIn');
    window.location.reload();
  }

  // 2. BLOG SYSTEM
  function publishBlog() {
    const title = document.getElementById('postTitle').value;
    const img = document.getElementById('postImg').value;
    const content = document.getElementById('postContent').value;

    if(!title || !content) return alert("Title and Content are required!");

    const blogData = { title, img, content };
    let blogs = JSON.parse(localStorage.getItem('myBlogs') || '[]');
    blogs.push(blogData);
    localStorage.setItem('myBlogs', JSON.stringify(blogs));

    alert("Blog Published!");
    displayBlogs();
    
    // Clear inputs
    document.getElementById('postTitle').value = '';
    document.getElementById('postImg').value = '';
    document.getElementById('postContent').value = '';
  }

  function displayBlogs() {
    const blogList = document.getElementById('blog-list');
    const blogs = JSON.parse(localStorage.getItem('myBlogs') || '[]');
    
    if(blogs.length === 0) return;

    blogList.innerHTML = '';
    blogs.forEach(b => {
      blogList.innerHTML += `
        <div class="card">
          ${b.img ? `<img src="${b.img}" class="blog-img">` : ''}
          <h3>${b.title}</h3>
          <p>${b.content}</p>
        </div>
      `;
    });
  }

  // Run on load
  window.onload = function() {
    showAdmin();
    displayBlogs();
  };
</script>

</body>
</html>
